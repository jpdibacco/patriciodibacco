/*! Code Rain Preview | (c) CreativeTier | contact@creativetier.com | http://www.creativetier.com */
function CodeRain_Utils() {
    "use strict";
    var i = this;
    this.version = function() {
        return "1.0.0"
    }, this.isset = function(t) {
        return !(void 0 === t)
    }, this.getInt = function(t) {
        return parseInt(t, 10)
    }, this.random = function(t, e) {
        return i.isset(e) ? Math.floor(Math.random() * (e - t + 1) + t) : Math.floor(Math.random() * t)
    }, this.extend = function(t, e) {
        return e
    }, this.log = function(t, e) {
        t = "CodeRain: " + t, window.console && ("error" === e ? console.error(t) : "warn" === e ? console.warn(t) : console.log(t))
    }
}
//init();
var CodeRainUtils = new CodeRain_Utils;

function init() {
   // if ("www.creativetier.com" !== document.domain && "creativetier.com" !== document.domain) throw new Error
}

function CodeRain_Template(t) {
    "use strict";
    var e, i, n;

    function o(t) {
        s()
    }

    function s(t) {
        void 0 === t && (t = !0), t && (e && e.resize(), i && i.position())
    }
    this.destroy = function() {
        e && e.destroy(), i && i.destroy(), n && n.destroy(), window.removeEventListener("resize", o)
    }, t.rain && (e = new CodeRain_RainEffect(t.rain)), t.message && (i = new CodeRain_Message(t.message)), t.contextMessage && (n = new CodeRain_ContextMessage(t.contextMessage)), s(!1), window.addEventListener("resize", o)
}

function CodeRain_RainEffect(t, e) {
    "use strict";
    void 0 === e && (e = !0);
    var i, n, o, s, r, a = this,
        h = CodeRainUtils.extend({}, t),
        l = document.getElementById(h.elementId),
        c = l.children[0],
        d = c.getContext("2d"),
        f = l.children[1],
        u = f.getContext("2d"),
        g = null,
        p = null,
        w = [],
        m = !1;

    function v() {
        var t, e;
        for (d.fillStyle = h.overlayColor, d.fillRect(0, 0, c.width, c.height), d.fillStyle = h.textColor, d.font = h.fontSize + "px " + h.font, h.highlightFirstChar && (u.clearRect(0, 0, f.width, f.height), u.font = h.fontSize + "px " + h.font), t = 0; t < o; t++) e = i[CodeRainUtils.random(n)], d.fillText(e, h.columnWidth * t, h.rowHeight * w[t]), h.highlightFirstChar && (u.fillStyle = h.highlightFirstChar, u.fillText(e, h.columnWidth * t, h.rowHeight * w[t])), w[t] > s && .975 < Math.random() && (w[t] = 0), w[t]++
    }
    this.resize = function() {
        g === l.offsetWidth && p === l.offsetHeight || (g = l.offsetWidth, p = l.offsetHeight, c.width = l.offsetWidth, c.height = l.offsetHeight, h.highlightFirstChar && (f.width = l.offsetWidth, f.height = l.offsetHeight), o = c.width / h.columnWidth, s = c.height / h.rowHeight, function() {
            var t;
            switch (h.direction) {
                case "top-bottom":
                    for (t = 0; t < o; t++) void 0 === w[t] && (w[t] = s + 1)
            }
        }())
    }, this.start = function() {
        h.showStart || function() {
            for (var t = 0; t < 150; t++) v()
        }(), r = setInterval(v, h.interval), m = !0
    }, this.stop = function(t) {
        clearInterval(r), t && a.clear(), m = !1
    }, this.clear = function() {
        d.clearRect(0, 0, c.width, c.height), h.highlightFirstChar && u.clearRect(0, 0, f.width, f.height)
    }, this.isPlaying = function() {
        return m
    }, this.destroy = function() {
        a.stop(!0), c.width = null, c.height = null, h.highlightFirstChar && (f.width = null, f.height = null)
    }, i = h.characters.split(""), n = i.length, a.resize(), e && a.start()
}

function CodeRain_Message(t) {
    "use strict";
    var e, i = this,
        n = CodeRainUtils.extend({}, t),
        o = document.getElementById(n.elementId);
    this.position = function() {
            o.style.left = Math.round((window.innerWidth - o.offsetWidth) / 2) + "px", o.style.top = Math.round((window.innerHeight - o.offsetHeight) / 2) + "px"
        }, this.replay = function() {
            e.isPlaying() || e.replay()
        }, this.destroy = function() {
            e.destroy(), o.style.left = "auto", o.style.top = "auto", n.replayOnClick && o.removeEventListener("click", i.replay), o.classList.remove("cr-show")
        },
        function() {
            switch (n.textEffect.effect) {
                case 1:
                    e = new CodeRain_TextEffect1(o, n.textEffect)
            }
            e.onChange = i.position, i.position(), n.replayOnClick && o.addEventListener("click", i.replay), o.classList.add("cr-show")
        }()
}

function CodeRain_ContextMessage(t, e) {
    "use strict";
    var i, o, s, r, n = this,
        a = CodeRainUtils.extend({}, t),
        h = document.getElementById(a.elementId),
        l = !1;

    function c(t) {
        n.show(t.clientX, t.clientY), t.preventDefault()
    }

    function d(t) {
        n.hide()
    }
    this.show = function(t, e) {
            var i, n;
            i = t + o > window.innerWidth ? t - o : t, n = e + s > window.innerHeight ? e - s : e, h.style.left = i + "px", h.style.top = n + "px", h.classList.add("cr-show"), r.start(), l = !0
        }, this.hide = function() {
            l && (h.classList.remove("cr-show"), r.stop(), l = !1)
        }, this.destroy = function() {
            r.destroy(), h.style.left = "auto", h.style.top = "auto", h.classList.remove("cr-show"), i.removeEventListener("contextmenu", c), document.removeEventListener("click", d)
        },
        function() {
            switch (a.textEffect.effect) {
                case 1:
                    r = new CodeRain_TextEffect1(h, a.textEffect, a.link, !1)
            }
            o = h.offsetWidth, s = h.offsetHeight, (i = void 0 === e ? document : document.getElementById(e)).addEventListener("contextmenu", c), document.addEventListener("click", d)
        }()
}

function CodeRain_TextEffect1(t, e, i) {
    "use strict";
    void 0 === i && (i = !0);
    var n, o, s, r, a, h, l = this,
        c = CodeRainUtils.extend({}, e),
        d = t,
        f = [],
        u = -1,
        g = !0,
        p = 0,
        w = !1;

    function m() {
        clearTimeout(h)
    }

    function v() {
        var t, e, i = "";
        for ((g && p === c.pendingTicks || !g && p === c.characterTicks) && (f[u] = s[u], u++, p = 0, g = !1), p++, c.wrappers && (i += c.wrappers[0]), c.link && (i += '<a href="' + c.link.url + '" target="' + c.link.target + '">'), e = f.length, t = 0; t < e; t++) i += f[t];
        if (e < r) {
            for (i += '<span style="color: ' + c.pendingColor + ';">', t = e; t < r; t++) c.highlightChar && !g && t === e && (i += '<span style="color: ' + c.highlightChar + ';">'), i += n[CodeRainUtils.random(o)], c.highlightChar && !g && t === e && (i += "</span>");
            i += "</span>"
        }
        c.link && (i += "</a>"), c.wrappers && (i += c.wrappers[1]), d.innerHTML = i, l.onChange && l.onChange(), u === r && (l.stop(), c.replay && (h = setTimeout(l.start, 1e3 * c.replay)))
    }
    this.onChange = null, this.start = function() {
            w && l.stop(), a = setInterval(v, c.interval), w = !0, c.replay && m()
        }, this.stop = function() {
            clearInterval(a), f = [], u = -1, w = !(g = !(p = 0))
        }, this.replay = function() {
            w && l.stop(), l.start()
        }, this.isPlaying = function() {
            return w
        }, this.destroy = function() {
            l.stop(), d.innerHtml = "", c.replay && m()
        }, n = c.characters.split(""), o = n.length, s = c.message.split(""), r = s.length,
        function() {
            var t = "";
            t += '<span style="visibility: hidden;">', c.wrappers && (t += c.wrappers[0]);
            c.link && (t += '<a href="' + c.link.url + '" target="' + c.link.target + '">');
            t += c.message, c.link && (t += "</a>");
            c.wrappers && (t += c.wrappers[1]);
            t += "</span>", d.innerHTML = t
        }(), i && l.start()
}
new CodeRain_Template({"rain":{"elementId":"cr-rain","characters":"\u8bf6\u6bd4\u897f\u8fea\u4f0a\u827e\u5f17\u5409\u827e\u5c3a\u827e\u6770\u5f00\u827e\u52d2\u827e\u9a6c\u827e\u5a1c\u54e6\u5c41\u5409\u543e\u827e\u513f\u827e\u4e1d\u63d0\u4f0a\u543e\u7ef4\u8c46\u8d1d\u5c14\u7ef4\u827e\u514b\u65af\u543e\u827e\u8d3c\u5fb7\u3042\u3044\u3046\u3048\u304a\u306f\u3072\u3075\u3078\u307b\u304b\u304d\u304f\u3051\u3053\u307e\u307f\u3080\u3081\u3082\u3055\u3057\u3059\u305b\u305d\u3084\u3086\u3088\u305f\u3061\u3064\u3066\u3068\u3089\u308a\u308b\u308c\u308d\u306a\u306b\u306c\u306d\u306e\u308f\u3090\u3093\u3091\u3092\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30ac\u30ae\u30b0\u30b2\u30b4\u30b5\u30b7\u30b9\u30bb\u30bd\u30b6\u30b8\u30ba\u30bc\u30be\u30bf\u30c1\u30c4\u30c6\u30c8\u30c0\u30c2\u30c5\u30c7\u30c9\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30d0\u30d3\u30d6\u30d9\u30dc\u30d1\u30d4\u30d7\u30da\u30dd\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f2\u30f3","font":"Arial, sans-serif","fontSize":8,"columnWidth":8,"rowHeight":8,"textColor":"#5495C7","overlayColor":"rgba(255, 255, 255, 0.03)","highlightFirstChar":"#3E5988","interval":40,"direction":"top-bottom","showStart":false},"message":{"elementId":"cr-message","textEffect":{"message":"404:PAGE_NOT_FOUND","characters":"ABCDEFGHIJKLMNOPQRSTUVWXYZ\u0391\u0392\u0393\u0394\u0395\u0396\u0397\u0398\u0399\u039a\u039b\u039c\u039d\u039e\u039f\u03a0\u03a1\u03a3\u03a4\u03a5\u03a6\u03a7\u03a8\u03a90123456789","wrappers":["[","]"],"pendingColor":"#82C0D5","highlightChar":"#1C7392","effect":1,"interval":50,"pendingTicks":20,"characterTicks":1,"replay":false},"replayOnClick":true},"contextMessage":{"elementId":"cr-context-message","textEffect":{"message":"Code_Rain by CreativeTier","characters":"ABCDEFGHIJKLMNOPQRSTUVWXYZ\u0391\u0392\u0393\u0394\u0395\u0396\u0397\u0398\u0399\u039a\u039b\u039c\u039d\u039e\u039f\u03a0\u03a1\u03a3\u03a4\u03a5\u03a6\u03a7\u03a8\u03a90123456789","wrappers":["[","]"],"pendingColor":"#82C0D5","highlightChar":"#1C7392","effect":1,"interval":50,"pendingTicks":20,"characterTicks":1,"replay":false,"link":{"url":"http:\/\/www.creativetier.com\/codecanyon\/code-rain","target":"_blank"}}}});